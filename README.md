### <p align="center">Лабораторная 2 | Установка Linux (развертка, bootstraping)</p>
<br>

1. Создать виртуальную Linux x86_64-машину (не забываем включить в BIOS в CPU аппаратную поддержку виртуальных машин) с винчестером и CD, сетевая карта - bridge.
2. Загрузить дистрибутив System Rescue CD **64!**, подсоединяем к виртуальной машине, грузим CD; на некоторых машинах может не запускаться, попробуйте версию 4.X.X.
3. Устанавливаем Linux-ы: изучаем бутстраппинг (bootstrapping) операционной системы:
    + (“начальный уровень”) Debian/Ubuntu при помощи debootstrap;
    + (“средний уровень”) ставим Arch Linux (my favorite distribution) русский перевод (может быть неактуальным!) ;
    + (“продвинутый уровень”) Gentoo/Funtoo;
    + (“продвинутый уровень”) Установка глобального доступа в сеть IPv6 Tunnel brocker;
    + (“уровень 'guru'”) LHS;
    + (“уровень 'dao'”) Arch загрузкой по сети DHCP/TFTP/NFS, можно и другие дистрибутивы использовать.
4. Установить сервер sshd.
5. Сделать пользователя user с паролем 123456 (как у Хиллари Клинтон на корпоративной почте ;-)); пробросьте порт маршрутизатора 7022 на порт 22 вашей виртуальной машины; попробую зайти, посмотреть все ли готово.

---

<br>

## <p align="center">1. Создане виртуальной машины</P>

Для создания виртуальной `Linux x86_64-машины с винчестером`, `CD-приводом` и `сетевой картой в режиме bridge`, можно использовать гипервизор VirtualBox. Вот пошаговая инструкция:

Шаг 1: Загрузка и установка VirtualBox

+ Скачать и установите [VirtualBox](https://www.virtualbox.org/) с официального сайта: 

Шаг 2: Создание виртуальной машины

+ Запустить VirtualBox.
+ Нажать на кнопку "New" (Создать) в верхней панели.
+ Ввести имя виртуальной машины (например, "Linux VM") и выберите тип операционной системы "Linux" и версию "Ubuntu (64-bit)".
+ Нажать кнопку "Next" (Далее).
+ Установить необходимый объем оперативной памяти (RAM) для виртуальной машины и нажмите "Next".
+ Ввести размер винчестера для виртуальной машины (например, 20 ГБ) и нажмите "Create" (Создать).

Шаг 3: Настройка виртуальной машины

+ В списке виртуальных машин выбрать только что созданную виртуальную машину и нажать на кнопку "Settings" (Настройки) в верхней панели.
+ В окне "Settings" выбрать вкладку "Storage" (Хранилище).
+ В контроле "Controller: IDE" выбрать "Empty" (Пусто) и в правой части окна выбрать значок CD/DVD.
+ В раскрывающемся списке "Attributes" (Атрибуты) выбрать "Choose Virtual Optical Disk File" (Выбрать виртуальный оптический диск).
+ Указать путь к ISO-образу операционной системы Linux, который вы хотите установить на виртуальную машину, и нажать "OK".

Шаг 4: Настройка сетевой карты в режиме bridge

+ В окне "Settings" выбрать вкладку "Network" (Сеть).
+ В контроле "Attached to" (Подключено к) выбрать "Bridged Adapter" (Мостовой адаптер).
+ В раскрывающемся списке "Name" (Имя) выбрать физическую сетевую карту, которую нужно использовать для соединения виртуальной машины с сетью.
+ Нажать "OK", чтобы сохранить настройки.

Шаг 5: Установка и запуск виртуальной машины

+ Выбрать созданную виртуальную машину в списке и нажмите на кнопку "Start" (Запуск) в верхней панели.
+ Следовать инструкциям установщика операционной системы Linux, которую вы выбрали ранее.
+ После завершения установки операционной системы, виртуальная машина будет готова к использованию.

Тепер есть виртуальная `Linux x86_64-машина с винчестером`, `CD-приводом` и `сетевой картой в режиме bridge`. Можно настроить и запустить нужное программное обеспечение на этой виртуальной машине.

**General**

+ Name:                 `Linux VM`
+ Operating System:     `Ubuntu (64-bit)`

**System**

+ Base Memory:          `8192 MB`
+ Processors:           `4`
+ Boot Order:           `Floopy, Optical, Hard Disk`
+ Acceleration:         `Nested Panging, KVM Paravirtualization`

<br>

---
<br>

## <p align="center">2. Загрузка дистрибутива System Rescue CD</P>

1. Скачать [System Rescue CD (64-битную версию)](https://www.system-rescue.org/Download/)

2. Подключить образ `System Rescue CD` к виртуальной машине и загрузиться с `CD`.

Для подключения образа `System Rescue CD` к виртуальной машине из командной строки в `VirtualBox`, можно использовать утилиту `VBoxManage`, которая поставляется вместе с `VirtualBox`:

+ Открыть командную строку или терминал на компьютере.

+ Перейти в каталог, где установлен `VirtualBox`.

+ Использовать следующую команду для подключения образа `System Rescue CD` к виртуальной машине:

```css

VBoxManage storageattach <имя__виртуальной_машины> --storagectl <имя_контроллера> --port <номер_порта> --device <номер_устройства> --type dvddrive --medium <путь_к_образу_System_Rescue_CD>

```
Заменить `<имя_виртуальной_машины>` на имя виртуальной машины, `<имя_контроллера>`, `<номер_порта>` и `<номер_устройства`> на соответствующие значения для виртуальной машины, а `<путь_к_образу_System_Rescue_CD>` на полный путь к образу `System Rescue CD` на компьютере.

Теперь можно запустить виртуальную машину и она загрузится с подключенного образа `System Rescue CD`.

Обратить внимание, что может потребоваться права администратора или суперпользователя для выполнения этой команды в зависимости от операционной системы.

<br>

---
<br>

## <p align="center">3. Установка различных дистрибутивов Linux</P>

<br>

Команда `debootstrap` позволяет установить базовую систему `Debian` или `Ubuntu` в пользовательскую директорию, используя уже установленную систему `Linux`. Это полезный инструмент для создания минимальных и настраиваемых систем, включая различные дистрибутивы `Linux`.

Инструкция по установке `Debian/Ubunt`u с использованием `debootstrap`:

1. Убедиться, что установлен пакет `debootstrap`. Если его нет, установить его следующей командой в `Ubuntu`:

<br>

```arduino
sudo apt-get install debootstrap
```

<br>

2. Создать директорию, в которой будет производиться установка `Debian/Ubuntu`:

<br>

```bash
mkdir debian-install
cd debian-install
```

<br>

3. Запустить команду `debootstra`p, указав требуемые параметры, такие как версия дистрибутива, архитектура и целевая директория установки. Ниже приведен пример команды для установки` Debian 10 (Buster)` для архитектуры `amd64`:

<br>

```bash
sudo debootstrap --arch=amd64 buster ./debian-root http://ftp.debian.org/debian
```

<br>

**Здесь:**

+ `--arch=amd64` указывает архитектуру системы (в данном случае `amd64`).
+ `buster` - версия `Debian`, которую нужно установить.
+ `./debian-root` - целевая директория, куда будет производиться установка `Debian`. Можно выбрать любую другую директорию на компьютере.
+ `http://ftp.debian.org/debian` - URL-адрес зеркала `Debian`, откуда будут загружены пакеты. Можно выбрать ближайшее зеркало или использовать другое.


4. После запуска команды `debootstrap` будет загружена базовая система `Debian` в указанную целевую директорию. Это может занять некоторое время, в зависимости от скорости интернет-соединения.

5. После завершения установки можно войти в установленную систему `Debian` с помощью `chroot` команды. Например:

<br>

```bash
sudo chroot ./debian-root
```

<br>


Теперь мы находимся внутри установленной системы `Debian` и можем выполнять команды в этой среде, как если бы мы были в реальной системе.

---


1. Разбивка на партиции (Partitioning): Разбивка на партиции представляет собой процесс разделения физического диска на несколько логических разделов или партиций. Каждая партиция ведет себя как отдельный логический диск и имеет свое собственное файловое пространство. Разбивка на партиции позволяет логически организовать данные на диске и обеспечивает разделение операционных систем, файловых систем и других данных.

2. Форматирование (Formatting): Форматирование - это процесс создания файловой системы на разделе или партиции. Форматирование определяет способ организации данных на партиции, определяет тип файловой системы и создает необходимые структуры для хранения и управления файлами и каталогами. Форматирование стирает все существующие данные на партиции, поэтому перед форматированием важно сделать резервные копии всех важных данных.

3. Монтирование (Mounting): Монтирование - это процесс подключения или присоединения файловой системы, находящейся на определенной партиции, к файловой системе операционной системы. Когда партиция монтируется, ее содержимое становится доступным для чтения и записи. В UNIX-подобных системах, таких как Linux, монтирование выполняется с помощью команды mount. После монтирования файловой системы, ее содержимое становится видимым в указанной точке монтирования (например, каталоге), и вы можете работать с файлами и каталогами на этой партиции.
